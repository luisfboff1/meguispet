(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{127:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},712:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},1298:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3572:(e,t,a)=>{"use strict";a.d(t,{Aw:()=>r,By:()=>x,Pp:()=>n,Rg:()=>i,Sm:()=>p,Xg:()=>o,pK:()=>l,tq:()=>u,y1:()=>c,yl:()=>d});let s=a(446).A.create({baseURL:"https://gestao.meguispet.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{try{if(window.localStorage){let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}}catch(e){}return e});let d={getMetrics:async()=>(await s.get("/dashboard/metrics.php")).data,getRecentSales:async()=>(await s.get("/dashboard/recent-sales.php")).data,getTopProducts:async()=>(await s.get("/dashboard/top-products.php")).data,getVendas7Dias:async()=>(await s.get("/dashboard/vendas-7-dias.php")).data},l={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/clientes.php?page=".concat(e,"&limit=").concat(t))).data},getById:async e=>(await s.get("/clientes.php?id=".concat(e))).data,create:async e=>(await s.post("/clientes.php",e)).data,update:async(e,t)=>(await s.put("/clientes.php?id=".concat(e),t)).data,delete:async e=>(await s.delete("/clientes.php?id=".concat(e))).data},r={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/produtos.php?page=".concat(e,"&limit=").concat(t))).data},getById:async e=>(await s.get("/produtos.php/".concat(e))).data,create:async e=>(await s.post("/produtos.php",e)).data,update:async(e,t)=>(await s.put("/produtos.php?id=".concat(e),t)).data,delete:async e=>(await s.delete("/produtos.php?id=".concat(e))).data,updateStock:async(e,t)=>(await s.patch("/produtos.php?id=".concat(e),{estoque:t})).data,async getEstoqueRelatorio(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2?arguments[2]:void 0,d="/estoque-relatorio.php?page=".concat(e,"&limit=").concat(t);return a&&Object.keys(a).forEach(e=>{a[e]&&(d+="&".concat(e,"=").concat(a[e]))}),(await s.get(d)).data}},n={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/vendas.php?page=".concat(e,"&limit=").concat(t))).data},getById:async e=>(await s.get("/vendas.php?id=".concat(e))).data,create:async e=>(await s.post("/vendas.php",e)).data,update:async(e,t)=>(await s.put("/vendas.php?id=".concat(e),t)).data,delete:async e=>(await s.delete("/vendas.php?id=".concat(e))).data},i={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/vendedores.php?page=".concat(e,"&limit=").concat(t))).data},getById:async e=>(await s.get("/vendedores.php?id=".concat(e))).data,create:async e=>(await s.post("/vendedores.php",e)).data,update:async(e,t)=>(await s.put("/vendedores.php?id=".concat(e),t)).data,delete:async e=>(await s.delete("/vendedores.php?id=".concat(e))).data},o={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/usuarios.php?page=".concat(e,"&limit=").concat(t))).data},getById:async e=>(await s.get("/usuarios.php?id=".concat(e))).data,create:async e=>(await s.post("/usuarios.php",e)).data,update:async(e,t)=>(await s.put("/usuarios.php?id=".concat(e),t)).data,delete:async e=>(await s.delete("/usuarios.php?id=".concat(e))).data},c={login:async(e,t)=>(await s.post("/auth.php",{email:e,password:t})).data,async logout(){try{window.localStorage&&localStorage.removeItem("token")}catch(e){}},getProfile:async()=>(await s.get("/auth/profile.php")).data},u={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/fornecedores.php?page=".concat(e,"&limit=").concat(t))).data},getById:async e=>(await s.get("/fornecedores.php/".concat(e))).data,create:async e=>(await s.post("/fornecedores.php",e)).data,update:async(e,t)=>(await s.put("/fornecedores.php/".concat(e),t)).data,delete:async e=>(await s.delete("/fornecedores.php/".concat(e))).data},p={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,l="/movimentacoes.php?page=".concat(e,"&limit=").concat(t);return a&&(l+="&tipo=".concat(a)),d&&(l+="&status=".concat(d)),(await s.get(l)).data},getById:async e=>(await s.get("/movimentacoes.php/".concat(e))).data,create:async e=>(await s.post("/movimentacoes.php",e)).data,updateStatus:async(e,t)=>(await s.put("/movimentacoes.php/".concat(e,"/status"),{id:e,status:t})).data},x={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,r="/transacoes.php?page=".concat(e,"&limit=").concat(t);return a&&(r+="&tipo=".concat(a)),d&&(r+="&data_inicio=".concat(d)),l&&(r+="&data_fim=".concat(l)),(await s.get(r)).data},getById:async e=>(await s.get("/transacoes.php/".concat(e))).data,create:async e=>(await s.post("/transacoes.php",e)).data,update:async(e,t)=>(await s.put("/transacoes.php/".concat(e),t)).data,delete:async e=>(await s.delete("/transacoes.php/".concat(e))).data,getMetricas:async()=>(await s.get("/transacoes.php?metricas=1")).data}},3679:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(1503),d=a(2223),l=a(5363),r=a(6783),n=a(4001);let i=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)(i(),a),...d})});o.displayName=l.b.displayName},3780:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/estoque",function(){return a(6992)}])},3802:(e,t,a)=>{"use strict";a.d(t,{sG:()=>r});var s=a(2223);a(9507);var d=a(228),l=a(1503),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,d.TL)(`Primitive.${t}`),r=s.forwardRef((e,s)=>{let{asChild:d,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(d?a:t,{...r,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{})},4577:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>r,aR:()=>n});var s=a(1503),d=a(2223),l=a(4001);let r=d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-xs",a),...d})});r.displayName="Card";let n=d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...d})});n.displayName="CardHeader";let i=d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...d})});i.displayName="CardTitle";let o=d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...d})});o.displayName="CardDescription";let c=d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...d})});c.displayName="CardContent",d.forwardRef((e,t)=>{let{className:a,...d}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...d})}).displayName="CardFooter"},4684:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5363:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var s=a(2223),d=a(3802),l=a(1503),r=s.forwardRef((e,t)=>(0,l.jsx)(d.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var n=r},6693:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},6949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},6992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(1503),d=a(2223),l=a(4577),r=a(2431),n=a(5293),i=a(8207),o=a(127),c=a(7472),u=a(4684),p=a(712),x=a(6693),h=a(3600),m=a(6949),g=a(3572),j=a(3679),y=a(1298);function v(e){let{produto:t,onSubmit:a,onCancel:i,loading:o=!1}=e,[u,p]=(0,d.useState)([]),[x,h]=(0,d.useState)([]),[m,v]=(0,d.useState)(!1),[f,w]=(0,d.useState)(!1),[N,b]=(0,d.useState)({produto_id:(null==t?void 0:t.id)||"",tipo_ajuste:"entrada",quantidade:0,motivo:"",observacoes:"",vendedor_id:""});(0,d.useEffect)(()=>{A(),q()},[]);let A=async()=>{try{v(!0);let e=await g.Aw.getAll(1,100);e.success&&e.data&&p(e.data)}catch(e){}finally{v(!1)}},q=async()=>{try{w(!0);let e=await g.Rg.getAll(1,100);e.success&&e.data&&h(e.data)}catch(e){}finally{w(!1)}},_=u.find(e=>e.id===Number(N.produto_id));return m?(0,s.jsx)(l.Zp,{className:"w-full max-w-2xl mx-auto",children:(0,s.jsxs)(l.Wu,{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(y.A,{className:"h-8 w-8 animate-spin"}),(0,s.jsx)("span",{className:"ml-2",children:"Carregando produtos..."})]})}):(0,s.jsxs)(l.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{className:"flex items-center",children:[(0,s.jsx)(c.A,{className:"mr-2 h-5 w-5"}),"Ajustar Estoque"]})}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(N)},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j.J,{htmlFor:"produto_id",children:"Produto *"}),(0,s.jsxs)("select",{id:"produto_id",value:N.produto_id,onChange:e=>b(t=>({...t,produto_id:e.target.value})),className:"w-full p-2 border rounded-md",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Selecione um produto"}),u.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.nome," - Estoque: ",e.estoque]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j.J,{htmlFor:"tipo_ajuste",children:"Tipo de Ajuste *"}),(0,s.jsxs)("select",{id:"tipo_ajuste",value:N.tipo_ajuste,onChange:e=>b(t=>({...t,tipo_ajuste:e.target.value})),className:"w-full p-2 border rounded-md",children:[(0,s.jsx)("option",{value:"entrada",children:"Entrada de Mercadoria"}),(0,s.jsx)("option",{value:"saida",children:"Sa\xedda de Mercadoria"}),(0,s.jsx)("option",{value:"inventario",children:"Invent\xe1rio (Ajuste Manual)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j.J,{htmlFor:"quantidade",children:"Quantidade *"}),(0,s.jsx)(n.p,{id:"quantidade",type:"number",min:"1",value:N.quantidade,onChange:e=>b(t=>({...t,quantidade:Number(e.target.value)})),placeholder:"Quantidade",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j.J,{htmlFor:"motivo",children:"Motivo *"}),(0,s.jsxs)("select",{id:"motivo",value:N.motivo,onChange:e=>b(t=>({...t,motivo:e.target.value})),className:"w-full p-2 border rounded-md",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Selecione o motivo"}),(0,s.jsx)("option",{value:"compra",children:"Compra de Mercadoria"}),(0,s.jsx)("option",{value:"devolucao",children:"Devolu\xe7\xe3o de Cliente"}),(0,s.jsx)("option",{value:"perda",children:"Perda/Avaria"}),(0,s.jsx)("option",{value:"inventario",children:"Invent\xe1rio F\xedsico"}),(0,s.jsx)("option",{value:"transferencia",children:"Transfer\xeancia"}),(0,s.jsx)("option",{value:"outros",children:"Outros"})]})]}),"saida"===N.tipo_ajuste&&(0,s.jsxs)("div",{children:[(0,s.jsx)(j.J,{htmlFor:"vendedor_id",children:"Vendedor Respons\xe1vel"}),(0,s.jsxs)("select",{id:"vendedor_id",value:N.vendedor_id,onChange:e=>b(t=>({...t,vendedor_id:e.target.value})),className:"w-full p-2 border rounded-md",children:[(0,s.jsx)("option",{value:"",children:"Selecione um vendedor (opcional)"}),x.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.nome," - ",e.email]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j.J,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),(0,s.jsx)("textarea",{id:"observacoes",value:N.observacoes,onChange:e=>b(t=>({...t,observacoes:e.target.value})),placeholder:"Observa\xe7\xf5es adicionais",className:"w-full p-2 border rounded-md h-20 resize-none"})]}),_&&(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Resumo do Ajuste:"}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Produto:"})," ",_.nome]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Estoque Atual:"})," ",_.estoque," unidades"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Tipo:"})," ","entrada"===N.tipo_ajuste?"Entrada":"saida"===N.tipo_ajuste?"Sa\xedda":"Invent\xe1rio"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Quantidade:"})," ",N.quantidade," unidades"]}),(0,s.jsxs)("div",{className:"font-medium text-lg",children:[(0,s.jsx)("strong",{children:"Novo Estoque:"})," ","entrada"===N.tipo_ajuste?_.estoque+N.quantidade:"saida"===N.tipo_ajuste?_.estoque-N.quantidade:N.quantidade," unidades"]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:i,children:"Cancelar"}),(0,s.jsx)(r.$,{type:"submit",disabled:o||!N.produto_id,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Ajustando..."]}):"Ajustar Estoque"})]})]})})]})}function f(){let[e,t]=(0,d.useState)([]),[a,j]=(0,d.useState)(!0),[y,f]=(0,d.useState)(""),[w,N]=(0,d.useState)("all"),[b,A]=(0,d.useState)(!1),[q,_]=(0,d.useState)(!1);(0,d.useEffect)(()=>{C()},[]);let C=async()=>{try{j(!0);let e=await g.Aw.getAll(1,100);e.success&&e.data&&t(e.data)}catch(e){}finally{j(!1)}},k=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),S=async e=>{try{_(!0),await C(),A(!1)}catch(e){}finally{_(!1)}},E=e.filter(e=>{var t;let a=e.nome.toLowerCase().includes(y.toLowerCase())||(null==(t=e.categoria)?void 0:t.toLowerCase().includes(y.toLowerCase()));return"all"===w?a:"out"===w?a&&0===e.estoque:"low"===w?a&&e.estoque>0&&e.estoque<=5:"ok"===w?a&&e.estoque>5:a}),R=e.reduce((e,t)=>e+t.preco_venda*t.estoque,0),B=e.filter(e=>e.estoque>0&&e.estoque<=5).length,M=e.filter(e=>0===e.estoque).length,Z=e.filter(e=>e.estoque>5).length;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Controle de Estoque"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Monitore e gerencie seu estoque"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsxs)(r.$,{className:"bg-meguispet-primary hover:bg-meguispet-primary/90",onClick:()=>{A(!0)},children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Ajustar Estoque"]}),(0,s.jsxs)(r.$,{variant:"outline",children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Relat\xf3rio"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Valor Total"}),(0,s.jsx)(x.A,{className:"h-4 w-4 text-meguispet-primary"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:k(R)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Em estoque"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Estoque Baixo"}),(0,s.jsx)(o.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:B}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Produtos"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Sem Estoque"}),(0,s.jsx)(i.A,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:M}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Produtos"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Em Estoque"}),(0,s.jsx)(c.A,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Z}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Produtos"})]})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"Filtros"})}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,s.jsx)(n.p,{placeholder:"Buscar por nome ou categoria...",value:y,onChange:e=>f(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.$,{variant:"all"===w?"default":"outline",onClick:()=>N("all"),size:"sm",children:"Todos"}),(0,s.jsx)(r.$,{variant:"low"===w?"default":"outline",onClick:()=>N("low"),size:"sm",className:"text-yellow-600",children:"Baixo"}),(0,s.jsx)(r.$,{variant:"out"===w?"default":"outline",onClick:()=>N("out"),size:"sm",className:"text-red-600",children:"Sem estoque"})]})]})})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Produtos em Estoque"}),(0,s.jsxs)(l.BT,{children:[E.length," produto(s) encontrado(s)"]})]}),(0,s.jsx)(l.Wu,{children:a?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-meguispet-primary"})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Produto"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Categoria"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Estoque"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Pre\xe7o"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Valor Total"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:E.map(e=>{var t;let a=0===(t=e.estoque)?{color:"text-red-600",bgColor:"bg-red-100",icon:i.A,text:"Sem estoque",status:"out"}:t<=5?{color:"text-yellow-600",bgColor:"bg-yellow-100",icon:o.A,text:"Estoque baixo",status:"low"}:{color:"text-green-600",bgColor:"bg-green-100",icon:c.A,text:"Em estoque",status:"ok"},d=a.icon;return e.preco_venda,e.estoque,(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center",children:(0,s.jsx)(c.A,{className:"h-4 w-4 text-gray-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.nome}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: #",e.id]})]})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:e.categoria||"N/A"}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:e.estoque}),(0,s.jsx)(d,{className:"h-4 w-4 ".concat(a.color)})]})}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:k(e.preco_venda)}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:k(e.preco_venda*e.estoque)}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(a.bgColor," ").concat(a.color),children:a.text})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,s.jsx)(m.A,{className:"h-4 w-4"})}),(0,s.jsx)(r.$,{variant:"ghost",size:"sm",className:"text-meguispet-primary",children:"Ajustar"})]})})]},e.id)})})]})})})]}),!a&&0===E.length&&(0,s.jsx)(l.Zp,{children:(0,s.jsxs)(l.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,s.jsx)(c.A,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum produto encontrado"}),(0,s.jsx)("p",{className:"text-gray-600 text-center",children:y?"Tente ajustar os filtros de busca":"Nenhum produto cadastrado ainda"})]})}),b&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsx)(v,{onSubmit:S,onCancel:()=>{A(!1)},loading:q})})]})}},8207:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(3508).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}},e=>{e.O(0,[446,636,593,792],()=>e(e.s=3780)),_N_E=e.O()}]);