(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[656],{127:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(3508).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3572:(e,a,t)=>{"use strict";t.d(a,{Aw:()=>r,By:()=>u,Pp:()=>n,Rg:()=>d,Sm:()=>m,Xg:()=>l,pK:()=>o,tq:()=>p,y1:()=>i,yl:()=>c});let s=t(446).A.create({baseURL:"https://gestao.meguispet.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{try{if(window.localStorage){let a=localStorage.getItem("token");a&&(e.headers.Authorization="Bearer ".concat(a))}}catch(e){}return e});let c={getMetrics:async()=>(await s.get("/dashboard/metrics.php")).data,getRecentSales:async()=>(await s.get("/dashboard/recent-sales.php")).data,getTopProducts:async()=>(await s.get("/dashboard/top-products.php")).data,getVendas7Dias:async()=>(await s.get("/dashboard/vendas-7-dias.php")).data},o={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/clientes.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await s.get("/clientes.php?id=".concat(e))).data,create:async e=>(await s.post("/clientes.php",e)).data,update:async(e,a)=>(await s.put("/clientes.php?id=".concat(e),a)).data,delete:async e=>(await s.delete("/clientes.php?id=".concat(e))).data},r={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/produtos.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await s.get("/produtos.php/".concat(e))).data,create:async e=>(await s.post("/produtos.php",e)).data,update:async(e,a)=>(await s.put("/produtos.php?id=".concat(e),a)).data,delete:async e=>(await s.delete("/produtos.php?id=".concat(e))).data,updateStock:async(e,a)=>(await s.patch("/produtos.php?id=".concat(e),{estoque:a})).data,async getEstoqueRelatorio(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,t=arguments.length>2?arguments[2]:void 0,c="/estoque-relatorio.php?page=".concat(e,"&limit=").concat(a);return t&&Object.keys(t).forEach(e=>{t[e]&&(c+="&".concat(e,"=").concat(t[e]))}),(await s.get(c)).data}},n={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/vendas.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await s.get("/vendas.php?id=".concat(e))).data,create:async e=>(await s.post("/vendas.php",e)).data,update:async(e,a)=>(await s.put("/vendas.php?id=".concat(e),a)).data,delete:async e=>(await s.delete("/vendas.php?id=".concat(e))).data},d={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/vendedores.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await s.get("/vendedores.php?id=".concat(e))).data,create:async e=>(await s.post("/vendedores.php",e)).data,update:async(e,a)=>(await s.put("/vendedores.php?id=".concat(e),a)).data,delete:async e=>(await s.delete("/vendedores.php?id=".concat(e))).data},l={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/usuarios.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await s.get("/usuarios.php?id=".concat(e))).data,create:async e=>(await s.post("/usuarios.php",e)).data,update:async(e,a)=>(await s.put("/usuarios.php?id=".concat(e),a)).data,delete:async e=>(await s.delete("/usuarios.php?id=".concat(e))).data},i={login:async(e,a)=>(await s.post("/auth.php",{email:e,password:a})).data,async logout(){try{window.localStorage&&localStorage.removeItem("token")}catch(e){}},getProfile:async()=>(await s.get("/auth/profile.php")).data},p={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await s.get("/fornecedores.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await s.get("/fornecedores.php/".concat(e))).data,create:async e=>(await s.post("/fornecedores.php",e)).data,update:async(e,a)=>(await s.put("/fornecedores.php/".concat(e),a)).data,delete:async e=>(await s.delete("/fornecedores.php/".concat(e))).data},m={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,o="/movimentacoes.php?page=".concat(e,"&limit=").concat(a);return t&&(o+="&tipo=".concat(t)),c&&(o+="&status=".concat(c)),(await s.get(o)).data},getById:async e=>(await s.get("/movimentacoes.php/".concat(e))).data,create:async e=>(await s.post("/movimentacoes.php",e)).data,updateStatus:async(e,a)=>(await s.put("/movimentacoes.php/".concat(e,"/status"),{id:e,status:a})).data},u={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r="/transacoes.php?page=".concat(e,"&limit=").concat(a);return t&&(r+="&tipo=".concat(t)),c&&(r+="&data_inicio=".concat(c)),o&&(r+="&data_fim=".concat(o)),(await s.get(r)).data},getById:async e=>(await s.get("/transacoes.php/".concat(e))).data,create:async e=>(await s.post("/transacoes.php",e)).data,update:async(e,a)=>(await s.put("/transacoes.php/".concat(e),a)).data,delete:async e=>(await s.delete("/transacoes.php/".concat(e))).data,getMetricas:async()=>(await s.get("/transacoes.php?metricas=1")).data}},4577:(e,a,t)=>{"use strict";t.d(a,{BT:()=>l,Wu:()=>i,ZB:()=>d,Zp:()=>r,aR:()=>n});var s=t(1503),c=t(2223),o=t(4001);let r=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,s.jsx)("div",{ref:a,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-xs",t),...c})});r.displayName="Card";let n=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,s.jsx)("div",{ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t),...c})});n.displayName="CardHeader";let d=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,s.jsx)("h3",{ref:a,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t),...c})});d.displayName="CardTitle";let l=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,s.jsx)("p",{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",t),...c})});l.displayName="CardDescription";let i=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,s.jsx)("div",{ref:a,className:(0,o.cn)("p-6 pt-0",t),...c})});i.displayName="CardContent",c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,s.jsx)("div",{ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",t),...c})}).displayName="CardFooter"},4728:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/produto-detalhes",function(){return t(7010)}])},6693:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(3508).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},6949:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(3508).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},7010:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var s=t(1503),c=t(2223),o=t(4423),r=t(4577),n=t(2431),d=t(5293),l=t(3508);let i=(0,l.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=t(127),m=t(6949),u=t(7288),x=t(7472),h=t(6693);let g=(0,l.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var j=t(3572);function f(){let e=(0,o.useRouter)(),{id:a}=e.query,[t,l]=(0,c.useState)(null),[f,v]=(0,c.useState)([]),[y,N]=(0,c.useState)(!0),[b,_]=(0,c.useState)(""),[w,C]=(0,c.useState)(!1),[k,q]=(0,c.useState)({nome:"",descricao:"",preco_venda:0,preco_custo:0,estoque:0,estoque_minimo:0,categoria:"",codigo_barras:"",ativo:!0});(0,c.useEffect)(()=>{a&&(A(),B())},[a]);let A=async()=>{try{N(!0);let e=await j.Aw.getById(Number(a));e.success&&e.data?(l(e.data),q({nome:e.data.nome,descricao:e.data.descricao||"",preco_venda:e.data.preco_venda,preco_custo:e.data.preco_custo,estoque:e.data.estoque,estoque_minimo:e.data.estoque_minimo,categoria:e.data.categoria||"",codigo_barras:e.data.codigo_barras||"",ativo:e.data.ativo})):_("Produto n\xe3o encontrado")}catch(e){_("Erro ao carregar produto")}finally{N(!1)}},B=async()=>{try{if(!a)return;let e=await fetch("/api/historico-precos.php?produto_id=".concat(a,"&limit=20"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){let a=await e.json();if(a.success&&a.data){let e=a.data.map(e=>({id:e.id,preco_venda:e.preco_venda_novo,preco_custo:e.preco_custo_novo,data_alteracao:e.created_at,tipo_alteracao:e.tipo_alteracao,observacao:e.observacao,preco_venda_anterior:e.preco_venda_anterior,preco_custo_anterior:e.preco_custo_anterior,diferenca_preco_venda:e.diferenca_preco_venda,diferenca_preco_custo:e.diferenca_preco_custo,percentual_mudanca_venda:e.percentual_mudanca_venda,percentual_mudanca_custo:e.percentual_mudanca_custo}));v(e)}else v([])}else v([])}catch(e){v([])}},R=async()=>{try{N(!0);let e=await j.Aw.update(Number(a),k);e.success&&e.data?(l(e.data),C(!1),await A()):_("Erro ao atualizar produto")}catch(e){_("Erro ao atualizar produto")}finally{N(!1)}},S=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),E=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});if(y)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Carregando produto..."})]})});if(b||!t)return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)(n.$,{onClick:()=>e.back(),variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(i,{className:"h-4 w-4"}),"Voltar"]})}),(0,s.jsx)(r.Zp,{children:(0,s.jsxs)(r.Wu,{className:"p-8 text-center",children:[(0,s.jsx)(p.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:b||"Produto n\xe3o encontrado"}),(0,s.jsx)("p",{className:"text-gray-600",children:"O produto que voc\xea est\xe1 procurando n\xe3o foi encontrado ou houve um erro ao carreg\xe1-lo."})]})})]});let P=t?0===t.estoque?{text:"Sem Estoque",color:"text-red-600",bgColor:"bg-red-100"}:t.estoque<=t.estoque_minimo?{text:"Estoque Baixo",color:"text-yellow-600",bgColor:"bg-yellow-100"}:{text:"Em Estoque",color:"text-green-600",bgColor:"bg-green-100"}:{text:"",color:"",bgColor:""},Z=t.preco_venda-t.preco_custo,M=t.preco_custo>0?Z/t.preco_custo*100:0;return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(n.$,{onClick:()=>e.back(),variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(i,{className:"h-4 w-4"}),"Voltar"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t.nome}),(0,s.jsx)("p",{className:"text-gray-600",children:t.categoria||"Sem categoria"})]})]}),(0,s.jsxs)(n.$,{onClick:()=>C(!0),className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),"Editar Produto"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:"Pre\xe7o de Venda"}),(0,s.jsx)(u.A,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:S(t.preco_venda)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pre\xe7o ao cliente"})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:"Pre\xe7o de Custo"}),(0,s.jsx)(x.A,{className:"h-4 w-4 text-blue-600"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:S(t.preco_custo)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pre\xe7o m\xe9dio ponderado"})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:"Margem de Lucro"}),(0,s.jsx)(h.A,{className:"h-4 w-4 text-purple-600"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:S(Z)}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[M.toFixed(1),"% de margem"]})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ZB,{className:"text-sm font-medium",children:"Estoque Atual"}),(0,s.jsx)(x.A,{className:"h-4 w-4 text-orange-600"})]}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:t.estoque}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["M\xednimo: ",t.estoque_minimo]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Informa\xe7\xf5es do Produto"}),(0,s.jsx)(r.BT,{children:"Detalhes gerais do produto"})]}),(0,s.jsxs)(r.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Nome:"}),(0,s.jsx)("span",{children:t.nome})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Descri\xe7\xe3o:"}),(0,s.jsx)("span",{className:"text-right max-w-xs",children:t.descricao||"Sem descri\xe7\xe3o"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"C\xf3digo de Barras:"}),(0,s.jsx)("span",{children:t.codigo_barras||"N\xe3o informado"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Categoria:"}),(0,s.jsx)("span",{children:t.categoria||"N\xe3o categorizado"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Status:"}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(P.bgColor," ").concat(P.color),children:P.text})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Ativo:"}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.ativo?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:t.ativo?"Sim":"N\xe3o"})]})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Valores e Estoque"}),(0,s.jsx)(r.BT,{children:"C\xe1lculos financeiros e estoque"})]}),(0,s.jsxs)(r.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Valor Total Venda:"}),(0,s.jsx)("span",{className:"font-semibold text-green-600",children:S(t.preco_venda*t.estoque)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Valor Total Custo:"}),(0,s.jsx)("span",{className:"font-semibold text-blue-600",children:S(t.preco_custo*t.estoque)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Lucro Total Potencial:"}),(0,s.jsx)("span",{className:"font-semibold text-purple-600",children:S(Z*t.estoque)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Criado em:"}),(0,s.jsx)("span",{children:E(t.created_at)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Atualizado em:"}),(0,s.jsx)("span",{children:E(t.updated_at)})]})]})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(g,{className:"h-5 w-5"}),"Hist\xf3rico de Pre\xe7os"]}),(0,s.jsx)(r.BT,{children:"Evolu\xe7\xe3o dos pre\xe7os ao longo do tempo"})]}),(0,s.jsx)(r.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[f.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsxs)("span",{className:"font-medium text-green-600",children:["Venda: ",S(e.preco_venda)]}),void 0!==e.diferenca_preco_venda&&0!==e.diferenca_preco_venda&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(e.diferenca_preco_venda>0?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:[e.diferenca_preco_venda>0?"+":"",S(e.diferenca_preco_venda),e.percentual_mudanca_venda&&" (".concat(e.percentual_mudanca_venda>0?"+":"").concat(e.percentual_mudanca_venda,"%)")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-medium text-blue-600",children:["Custo: ",S(e.preco_custo)]}),void 0!==e.diferenca_preco_custo&&0!==e.diferenca_preco_custo&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(e.diferenca_preco_custo>0?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:[e.diferenca_preco_custo>0?"+":"",S(e.diferenca_preco_custo),e.percentual_mudanca_custo&&" (".concat(e.percentual_mudanca_custo>0?"+":"").concat(e.percentual_mudanca_custo,"%)")]})]})]}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("manual"===e.tipo_alteracao?"bg-blue-100 text-blue-600":"automatico"===e.tipo_alteracao?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"),children:"manual"===e.tipo_alteracao?"Manual":"automatico"===e.tipo_alteracao?"Autom\xe1tico":"Movimenta\xe7\xe3o"})]}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:E(e.data_alteracao)})]}),e.observacao&&(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.observacao})]},e.id)),0===f.length&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(g,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("p",{children:"Nenhum hist\xf3rico de pre\xe7os encontrado"})]})]})})]}),w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)(r.Zp,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Editar Produto"}),(0,s.jsx)(r.BT,{children:"Atualize as informa\xe7\xf5es do produto"})]}),(0,s.jsxs)(r.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome *"}),(0,s.jsx)(d.p,{value:k.nome,onChange:e=>q(a=>({...a,nome:e.target.value})),placeholder:"Nome do produto"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Descri\xe7\xe3o"}),(0,s.jsx)(d.p,{value:k.descricao,onChange:e=>q(a=>({...a,descricao:e.target.value})),placeholder:"Descri\xe7\xe3o do produto"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pre\xe7o de Venda (R$) *"}),(0,s.jsx)(d.p,{type:"number",step:"0.01",value:k.preco_venda,onChange:e=>q(a=>({...a,preco_venda:Number(e.target.value)})),placeholder:"0,00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pre\xe7o de Custo (R$)"}),(0,s.jsx)(d.p,{type:"number",step:"0.01",value:k.preco_custo,onChange:e=>q(a=>({...a,preco_custo:Number(e.target.value)})),placeholder:"0,00"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Estoque *"}),(0,s.jsx)(d.p,{type:"number",value:k.estoque,onChange:e=>q(a=>({...a,estoque:Number(e.target.value)})),placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Estoque M\xednimo"}),(0,s.jsx)(d.p,{type:"number",value:k.estoque_minimo,onChange:e=>q(a=>({...a,estoque_minimo:Number(e.target.value)})),placeholder:"0"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),(0,s.jsx)(d.p,{value:k.categoria,onChange:e=>q(a=>({...a,categoria:e.target.value})),placeholder:"Categoria"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"C\xf3digo de Barras"}),(0,s.jsx)(d.p,{value:k.codigo_barras,onChange:e=>q(a=>({...a,codigo_barras:e.target.value})),placeholder:"C\xf3digo de barras"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"ativo",checked:k.ativo,onChange:e=>q(a=>({...a,ativo:e.target.checked}))}),(0,s.jsx)("label",{htmlFor:"ativo",className:"text-sm font-medium",children:"Produto ativo"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 p-6 pt-0",children:[(0,s.jsx)(n.$,{variant:"outline",onClick:()=>C(!1),disabled:y,children:"Cancelar"}),(0,s.jsx)(n.$,{onClick:R,disabled:y,children:y?"Salvando...":"Salvar"})]})]})})]})}}},e=>{e.O(0,[446,636,593,792],()=>e(e.s=4728)),_N_E=e.O()}]);