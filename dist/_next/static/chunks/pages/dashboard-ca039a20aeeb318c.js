(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{1232:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(5966)}])},5966:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(1503),l=a(2223),i=a(4577),r=a(2431),c=a(6693),d=a(6496),n=a(7472),x=a(5785);let m=(0,a(3508).A)("package-2",[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]]);var h=a(2073),o=a(3572),u=a(5582),j=a(6715),g=a(9865),p=a(6343);function y(e){let{data:s,loading:a=!1}=e;if(a)return(0,t.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-meguispet-primary"})});if(!s||0===s.length)return(0,t.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:(0,t.jsx)("p",{children:"Nenhum dado de vendas dispon\xedvel"})});let l=Math.max(...s.map(e=>e.vendas)),i=Math.max(...s.map(e=>e.receita));return(0,t.jsxs)("div",{className:"h-64 w-full",children:[(0,t.jsx)("div",{className:"flex items-end justify-between h-full space-x-2",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"w-full flex flex-col items-center space-y-1",children:[(0,t.jsx)("div",{className:"w-full bg-meguispet-primary/20 rounded-t",style:{height:"".concat(e.vendas/l*120,"px"),minHeight:"4px"},children:(0,t.jsx)("div",{className:"w-full h-full bg-meguispet-primary rounded-t"})}),(0,t.jsx)("div",{className:"w-full bg-green-500/20 rounded-b",style:{height:"".concat(e.receita/i*80,"px"),minHeight:"4px"},children:(0,t.jsx)("div",{className:"w-full h-full bg-green-500 rounded-b"})})]}),(0,t.jsxs)("div",{className:"mt-2 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:new Date(e.data).toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit"})}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.vendas," vendas"]}),(0,t.jsxs)("div",{className:"text-xs text-green-600 font-medium",children:["R$ ",e.receita.toFixed(0)]})]})]},s))}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-meguispet-primary rounded"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Vendas"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Receita"})]})]})]})}function N(){let[e,s]=(0,l.useState)([]),[a,N]=(0,l.useState)([]),[f,v]=(0,l.useState)([]),[w,b]=(0,l.useState)(!0),[k,A]=(0,l.useState)(!1),[S,R]=(0,l.useState)(!1),[_,C]=(0,l.useState)(!1),[B,M]=(0,l.useState)(!1),[Z,T]=(0,l.useState)(!1);(0,l.useEffect)(()=>{V()},[]);let V=async()=>{try{b(!0);let e=await o.yl.getMetrics();e.success&&e.data&&s(e.data);let a=await o.yl.getTopProducts();a.success&&a.data&&N(a.data);let t=await o.yl.getVendas7Dias();t.success&&t.data&&v(t.data)}catch(e){s([]),N([])}finally{b(!1)}},E=async e=>{try{T(!0),A(!1),await V()}catch(e){}finally{T(!1)}},W=async e=>{try{T(!0),R(!1),await V()}catch(e){}finally{T(!1)}},z=async e=>{try{T(!0),C(!1),await V()}catch(e){}finally{T(!1)}},D=async e=>{try{T(!0),M(!1),await V()}catch(e){}finally{T(!1)}},L=()=>{A(!1),R(!1),C(!1),M(!1)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Vis\xe3o geral do seu neg\xf3cio"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w?Array.from({length:4}).map((e,s)=>(0,t.jsxs)(i.Zp,{className:"animate-pulse",children:[(0,t.jsx)(i.aR,{className:"space-y-0 pb-2",children:(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]},s)):e.length>0?e.map((e,s)=>{let a=e.icon;return(0,t.jsxs)(i.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-gray-600",children:e.title}),(0,t.jsx)(a,{className:"h-4 w-4 text-meguispet-primary"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,t.jsxs)("div",{className:"flex items-center text-xs",children:["positive"===e.changeType?(0,t.jsx)(c.A,{className:"mr-1 h-3 w-3 text-green-600"}):(0,t.jsx)(d.A,{className:"mr-1 h-3 w-3 text-red-600"}),(0,t.jsx)("span",{className:"positive"===e.changeType?"text-green-600":"text-red-600",children:e.change}),(0,t.jsx)("span",{className:"text-gray-500 ml-1",children:"vs. ontem"})]})]})]},s)}):(0,t.jsx)("div",{className:"col-span-full",children:(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,t.jsx)(n.A,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum dado dispon\xedvel"}),(0,t.jsx)("p",{className:"text-gray-600 text-center",children:"Os dados do dashboard ser\xe3o carregados quando houver vendas e produtos cadastrados"})]})})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Vendas dos \xdaltimos 7 Dias"}),(0,t.jsx)(i.BT,{children:"Acompanhe o desempenho das suas vendas"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)(y,{data:f,loading:w})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Produtos Mais Vendidos"}),(0,t.jsx)(i.BT,{children:"Top 5 produtos mais vendidos hoje"})]}),(0,t.jsx)(i.Wu,{children:w?(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,s)=>(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},s))}):a.length>0?(0,t.jsx)("div",{className:"space-y-4",children:a.map((e,s)=>{let a;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.nome}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.vendas," vendas"]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("p",{className:"font-medium text-meguispet-primary",children:(a=e.receita,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a))})})]},s)})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(n.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Nenhum produto vendido ainda"})]})})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"A\xe7\xf5es R\xe1pidas"}),(0,t.jsx)(i.BT,{children:"Acesso r\xe1pido \xe0s principais funcionalidades"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(r.$,{className:"bg-meguispet-primary hover:bg-meguispet-primary/90 h-20 flex-col",onClick:()=>{A(!0)},children:[(0,t.jsx)(x.A,{className:"h-6 w-6 mb-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Nova Venda"})]}),(0,t.jsxs)(r.$,{variant:"outline",onClick:()=>{R(!0)},className:"h-20 flex-col",children:[(0,t.jsx)(n.A,{className:"h-6 w-6 mb-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Cadastrar Produto"})]}),(0,t.jsxs)(r.$,{variant:"outline",onClick:()=>{M(!0)},className:"h-20 flex-col",children:[(0,t.jsx)(m,{className:"h-6 w-6 mb-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Nova Movimenta\xe7\xe3o"})]}),(0,t.jsxs)(r.$,{variant:"outline",onClick:()=>{window.location.href="/relatorios"},className:"h-20 flex-col",children:[(0,t.jsx)(h.A,{className:"h-6 w-6 mb-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Ver Relat\xf3rios"})]})]})})]}),k&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",children:(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsx)(u.A,{onSubmit:E,onCancel:L,loading:Z})})}),S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",children:(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsx)(j.A,{onSubmit:W,onCancel:L,loading:Z})})}),_&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",children:(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsx)(g.A,{onSubmit:z,onCancel:L,loading:Z})})}),B&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",children:(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsx)(p.A,{onSubmit:D,onCancel:L,loading:Z})})})]})}},6496:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(3508).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},6693:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(3508).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])}},e=>{e.O(0,[446,114,343,296,865,636,593,792],()=>e(e.s=1232)),_N_E=e.O()}]);