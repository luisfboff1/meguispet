"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{3572:(e,a,t)=>{t.d(a,{Aw:()=>s,By:()=>h,Pp:()=>n,Rg:()=>r,Sm:()=>u,Xg:()=>i,pK:()=>d,tq:()=>p,y1:()=>l,yl:()=>c});let o=t(446).A.create({baseURL:"https://gestao.meguispet.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{try{if(window.localStorage){let a=localStorage.getItem("token");a&&(e.headers.Authorization="Bearer ".concat(a))}}catch(e){}return e});let c={getMetrics:async()=>(await o.get("/dashboard/metrics.php")).data,getRecentSales:async()=>(await o.get("/dashboard/recent-sales.php")).data,getTopProducts:async()=>(await o.get("/dashboard/top-products.php")).data,getVendas7Dias:async()=>(await o.get("/dashboard/vendas-7-dias.php")).data},d={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await o.get("/clientes.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await o.get("/clientes.php?id=".concat(e))).data,create:async e=>(await o.post("/clientes.php",e)).data,update:async(e,a)=>(await o.put("/clientes.php?id=".concat(e),a)).data,delete:async e=>(await o.delete("/clientes.php?id=".concat(e))).data},s={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await o.get("/produtos.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await o.get("/produtos.php/".concat(e))).data,create:async e=>(await o.post("/produtos.php",e)).data,update:async(e,a)=>(await o.put("/produtos.php?id=".concat(e),a)).data,delete:async e=>(await o.delete("/produtos.php?id=".concat(e))).data,updateStock:async(e,a)=>(await o.patch("/produtos.php?id=".concat(e),{estoque:a})).data,async getEstoqueRelatorio(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,t=arguments.length>2?arguments[2]:void 0,c="/estoque-relatorio.php?page=".concat(e,"&limit=").concat(a);return t&&Object.keys(t).forEach(e=>{t[e]&&(c+="&".concat(e,"=").concat(t[e]))}),(await o.get(c)).data}},n={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await o.get("/vendas.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await o.get("/vendas.php?id=".concat(e))).data,create:async e=>(await o.post("/vendas.php",e)).data,update:async(e,a)=>(await o.put("/vendas.php?id=".concat(e),a)).data,delete:async e=>(await o.delete("/vendas.php?id=".concat(e))).data},r={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await o.get("/vendedores.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await o.get("/vendedores.php?id=".concat(e))).data,create:async e=>(await o.post("/vendedores.php",e)).data,update:async(e,a)=>(await o.put("/vendedores.php?id=".concat(e),a)).data,delete:async e=>(await o.delete("/vendedores.php?id=".concat(e))).data},i={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await o.get("/usuarios.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await o.get("/usuarios.php?id=".concat(e))).data,create:async e=>(await o.post("/usuarios.php",e)).data,update:async(e,a)=>(await o.put("/usuarios.php?id=".concat(e),a)).data,delete:async e=>(await o.delete("/usuarios.php?id=".concat(e))).data},l={login:async(e,a)=>(await o.post("/auth.php",{email:e,password:a})).data,async logout(){try{window.localStorage&&localStorage.removeItem("token")}catch(e){}},getProfile:async()=>(await o.get("/auth/profile.php")).data},p={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await o.get("/fornecedores.php?page=".concat(e,"&limit=").concat(a))).data},getById:async e=>(await o.get("/fornecedores.php/".concat(e))).data,create:async e=>(await o.post("/fornecedores.php",e)).data,update:async(e,a)=>(await o.put("/fornecedores.php/".concat(e),a)).data,delete:async e=>(await o.delete("/fornecedores.php/".concat(e))).data},u={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,d="/movimentacoes.php?page=".concat(e,"&limit=").concat(a);return t&&(d+="&tipo=".concat(t)),c&&(d+="&status=".concat(c)),(await o.get(d)).data},getById:async e=>(await o.get("/movimentacoes.php/".concat(e))).data,create:async e=>(await o.post("/movimentacoes.php",e)).data,updateStatus:async(e,a)=>(await o.put("/movimentacoes.php/".concat(e,"/status"),{id:e,status:a})).data},h={async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0,s="/transacoes.php?page=".concat(e,"&limit=").concat(a);return t&&(s+="&tipo=".concat(t)),c&&(s+="&data_inicio=".concat(c)),d&&(s+="&data_fim=".concat(d)),(await o.get(s)).data},getById:async e=>(await o.get("/transacoes.php/".concat(e))).data,create:async e=>(await o.post("/transacoes.php",e)).data,update:async(e,a)=>(await o.put("/transacoes.php/".concat(e),a)).data,delete:async e=>(await o.delete("/transacoes.php/".concat(e))).data,getMetricas:async()=>(await o.get("/transacoes.php?metricas=1")).data}},3679:(e,a,t)=>{t.d(a,{J:()=>i});var o=t(1503),c=t(2223),d=t(5363),s=t(6783),n=t(4001);let r=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)(d.b,{ref:a,className:(0,n.cn)(r(),t),...c})});i.displayName=d.b.displayName},4577:(e,a,t)=>{t.d(a,{BT:()=>i,Wu:()=>l,ZB:()=>r,Zp:()=>s,aR:()=>n});var o=t(1503),c=t(2223),d=t(4001);let s=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)("div",{ref:a,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-xs",t),...c})});s.displayName="Card";let n=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)("div",{ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",t),...c})});n.displayName="CardHeader";let r=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)("h3",{ref:a,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",t),...c})});r.displayName="CardTitle";let i=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)("p",{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...c})});i.displayName="CardDescription";let l=c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)("div",{ref:a,className:(0,d.cn)("p-6 pt-0",t),...c})});l.displayName="CardContent",c.forwardRef((e,a)=>{let{className:t,...c}=e;return(0,o.jsx)("div",{ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",t),...c})}).displayName="CardFooter"},6715:(e,a,t)=>{t.d(a,{A:()=>p});var o=t(1503),c=t(2223),d=t(2431),s=t(5293),n=t(3679),r=t(4577),i=t(7472),l=t(1298);function p(e){var a;let{produto:t,onSubmit:p,onCancel:u,loading:h=!1}=e,[g,m]=(0,c.useState)({nome:(null==t?void 0:t.nome)||"",descricao:(null==t?void 0:t.descricao)||"",preco_venda:(null==t?void 0:t.preco_venda)||0,preco_custo:(null==t?void 0:t.preco_custo)||0,estoque:(null==t?void 0:t.estoque)||0,estoque_minimo:(null==t?void 0:t.estoque_minimo)||0,categoria:(null==t?void 0:t.categoria)||"",codigo_barras:(null==t?void 0:t.codigo_barras)||"",ativo:null==(a=null==t?void 0:t.ativo)||a});return(0,o.jsxs)(r.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,o.jsx)(r.aR,{children:(0,o.jsxs)(r.ZB,{className:"flex items-center",children:[(0,o.jsx)(i.A,{className:"mr-2 h-5 w-5"}),t?"Editar Produto":"Novo Produto"]})}),(0,o.jsx)(r.Wu,{children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p(g)},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"nome",children:"Nome do Produto *"}),(0,o.jsx)(s.p,{id:"nome",type:"text",value:g.nome,onChange:e=>m(a=>({...a,nome:e.target.value})),placeholder:"Nome do produto",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"descricao",children:"Descri\xe7\xe3o"}),(0,o.jsx)("textarea",{id:"descricao",value:g.descricao,onChange:e=>m(a=>({...a,descricao:e.target.value})),placeholder:"Descri\xe7\xe3o do produto",className:"w-full p-2 border rounded-md h-20 resize-none"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"preco_venda",children:"Pre\xe7o de Venda (R$) *"}),(0,o.jsx)(s.p,{id:"preco_venda",type:"number",step:"0.01",min:"0",value:g.preco_venda,onChange:e=>m(a=>({...a,preco_venda:Number(e.target.value)})),placeholder:"0,00",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"preco_custo",children:"Pre\xe7o de Custo (R$)"}),(0,o.jsx)(s.p,{id:"preco_custo",type:"number",step:"0.01",min:"0",value:g.preco_custo,onChange:e=>m(a=>({...a,preco_custo:Number(e.target.value)})),placeholder:"0,00"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe vazio para calcular automaticamente (70% do pre\xe7o de venda)"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"categoria",children:"Categoria"}),(0,o.jsx)(s.p,{id:"categoria",type:"text",value:g.categoria,onChange:e=>m(a=>({...a,categoria:e.target.value})),placeholder:"Ex: Ra\xe7\xe3o, Brinquedo, Medicamento"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"estoque",children:"Estoque Atual *"}),(0,o.jsx)(s.p,{id:"estoque",type:"number",min:"0",value:g.estoque,onChange:e=>m(a=>({...a,estoque:Number(e.target.value)})),placeholder:"0",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"estoque_minimo",children:"Estoque M\xednimo *"}),(0,o.jsx)(s.p,{id:"estoque_minimo",type:"number",min:"0",value:g.estoque_minimo,onChange:e=>m(a=>({...a,estoque_minimo:Number(e.target.value)})),placeholder:"0",required:!0})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.J,{htmlFor:"codigo_barras",children:"C\xf3digo de Barras"}),(0,o.jsx)(s.p,{id:"codigo_barras",type:"text",value:g.codigo_barras,onChange:e=>m(a=>({...a,codigo_barras:e.target.value})),placeholder:"C\xf3digo de barras do produto"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"checkbox",id:"ativo",checked:g.ativo,onChange:e=>m(a=>({...a,ativo:e.target.checked})),className:"rounded"}),(0,o.jsx)(n.J,{htmlFor:"ativo",children:"Produto ativo"})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,o.jsx)(d.$,{type:"button",variant:"outline",onClick:u,children:"Cancelar"}),(0,o.jsx)(d.$,{type:"submit",disabled:h,children:h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Produto"})]})]})})]})}}}]);